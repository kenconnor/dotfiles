FROM ubuntu:latest
RUN apt-get update && apt-get install -y --no-install-recommends \
    vim \
    git \
    clangd \
    curl \
    ca-certificates \
 && apt-get clean \
 && rm -rf /var/lib/apt/lists/*

# install Node.js
RUN curl -sL install-node.vercel.app/lts | bash -s -- -y


# install dein.nvim
RUN mkdir /root/.cache
RUN cd $HOME && sh -c "$(curl -fsSL https://raw.githubusercontent.com/Shougo/dein-installer.vim/master/installer.sh)" --overwrite-config ./.cache/dein --use-vim-config
COPY .vimrc /root/.vimrc
COPY .vim/dein/dein.toml /root/.vim/dein/dein.toml
COPY .vim/coc-settings.json /root/.vim/coc-settings.json
